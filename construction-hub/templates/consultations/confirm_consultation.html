{% extends 'base.html' %}
{% block content %}
<style>
  .confirmation-container {
    max-width: 600px;
    margin: 2rem auto;
  }
  .consultant-details-box {
    background: white;
    border: 1px solid #ddd;
    border-radius: 12px;
    padding: 2rem;
    margin-bottom: 2rem;
    box-shadow: 0 4px 12px .(0,0,0,0.05);
  }
  .detail-row {
    display: flex;
    justify-content: space-between;
    padding: 1rem 0;
    border-bottom: 1px solid #eee;
  }
  .detail-row:last-child {
    border-bottom: none;
  }
  .detail-label {
    font-weight: 600;
    color: #666;
  }
  .detail-value {
    color: #333;
    text-align: right;
  }
  .price-highlight {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 1.5rem;
    border-radius: 8px;
    text-align: center;
    margin-bottom: 2rem;
  }
  .price-highlight .label {
    font-size: 0.95rem;
    opacity: 0.9;
    display: block;
    margin-bottom: 0.5rem;
  }
  .price-highlight .amount {
    font-size: 2rem;
    font-weight: 700;
  }
  .form-group {
    margin-bottom: 1.5rem;
  }
  .form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-family: inherit;
    font-size: 1rem;
    resize: vertical;
    min-height: 100px;
  }
  .action-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
  }
  .btn-primary {
    flex: 1;
    padding: 1rem;
    background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
    color: white;
    border: none;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
    text-decoration: none;
    text-align: center;
    transition: all 0.3s ease;
  }
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(40, 167, 69, 0.3);
  }
  .btn-secondary {
    flex: 1;
    padding: 1rem;
    background: #f0f0f0;
    color: #333;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    font-size: 1rem;
    text-decoration: none;
    text-align: center;
    transition: all 0.3s ease;
  }
  .btn-secondary:hover {
    background: #e0e0e0;
  }
</style>

<div class="container confirmation-container">
  <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 12px; margin-bottom: 2rem; text-align: center;">
    <h1 style="font-size: 1.8rem; margin: 0 0 0.5rem 0;">‚úì Confirm Your Booking</h1>
    <p style="margin: 0; opacity: 0.95;">Review the consultant details and proceed to payment</p>
  </div>

  <!-- Consultant Details -->
  <div class="consultant-details-box">
    <h2 style="margin-top: 0; color: #333;">Consultant Information</h2>
    <div class="detail-row">
      <span class="detail-label">Name</span>
      <span class="detail-value">{{ consultant.full_name }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Phone</span>
      <span class="detail-value">{{ consultant.phone }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Specialization</span>
      <span class="detail-value">{{ consultant.specialization|default:"General Consulting" }}</span>
    </div>
    <div class="detail-row">
      <span class="detail-label">Experience</span>
      <span class="detail-value">{{ consultant.experience_years }} years</span>
    </div>
  </div>

  <!-- Price Display -->
  <div class="price-highlight">
    <span class="label">Consultation Rate</span>
    <span class="amount">KSH {{ consultant.consultation_rate }}</span>
  </div>

  <!-- Booking Details Form -->
  <div class="consultant-details-box">
    <form method="post" action="{% url 'consultations:consultation_payment' consultant.id %}">
      {% csrf_token %}
      
      <div class="form-group">
        <label for="details">Additional Details (Optional)</label>
        <textarea 
          name="details" 
          id="details" 
          placeholder="Tell the consultant about your needs, questions, or specific topics you'd like to discuss..."
        ></textarea>
      </div>

      <div style="background: #fff3cd; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid #ffc107;">
        <p style="margin: 0; font-size: 0.95rem; color: #856404;">
          <strong>üìå Important:</strong> Payment is required to confirm your booking. After successful payment, the consultant will be notified and will contact you to schedule the consultation.
        </p>
      </div>

      <div class="action-buttons">
        <a href="{% url 'consultations:select_consultant' %}" class="btn-secondary">‚Üê Back</a>
        <button type="submit" class="btn-primary">‚úì Proceed to Payment</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
