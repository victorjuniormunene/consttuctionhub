{% extends 'base.html' %}

{% block title %}Delete Order - {{ order.product.name }}{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 2rem auto; padding: 0 1rem;">
  <div style="margin-bottom: 2rem;">
    <a href="{% url 'accounts:dashboard' %}" style="color: #0d6efd; text-decoration: none; font-size: 0.95rem;">← Back to Dashboard</a>
  </div>

  <div class="form-card" style="border-left: 4px solid #dc3545;">
    <h1 style="margin-top: 0; margin-bottom: 1.5rem; font-size: 1.8rem; text-align: center; color: #dc3545;">Delete Order #{{ order.order_number }}</h1>
    
    <div style="background: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; text-align: center;">
      <p style="margin: 0; font-weight: 600; font-size: 1.05rem;">⚠️ This action cannot be undone</p>
    </div>

    <div style="background: #f4f6f8; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
      <h3 style="margin-top: 0; margin-bottom: 1rem;">Are you sure you want to delete this order?</h3>
      <p style="margin: 0.5rem 0;"><strong>Product:</strong> {{ order.product.name }}</p>
      <p style="margin: 0.5rem 0;"><strong>Status:</strong> {{ order.get_status_display }}</p>
      <hr style="border: none; border-top: 1px solid #ddd; margin: 0.75rem 0;">
      <p style="margin: 0.5rem 0;"><strong>Customer:</strong> {{ order.customer_name }}</p>
      <p style="margin: 0.5rem 0;"><strong>Phone:</strong> {{ order.customer_number }}</p>
      <p style="margin: 0.5rem 0;"><strong>Location:</strong> {{ order.customer_location }}</p>
      <hr style="border: none; border-top: 1px solid #ddd; margin: 0.75rem 0;">
      <p style="margin: 0.5rem 0;"><strong>Quantity:</strong> {{ order.quantity }} units</p>
      <p style="margin: 0.5rem 0; font-weight: 800; color: #ff7f31;"><strong>Total:</strong> KSH {{ order.total_cost }}</p>
      <p style="margin: 0.5rem 0; font-size: 0.9rem; color: #999;">Created: {{ order.created_at|date:'M d, Y H:i' }}</p>
    </div>

    <p style="color: #666; margin-bottom: 1.5rem; text-align: center;">Once deleted, this order will be permanently removed from your system.</p>

    <form method="post" style="margin-bottom: 1rem;">
      {% csrf_token %}
      <button type="submit" class="btn" style="width: 100%; background: #dc3545; color: white; font-size: 1rem; padding: 0.75rem; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; margin-bottom: 0.5rem;">Yes, Delete This Order</button>
    </form>

    <a href="{% url 'accounts:dashboard' %}" class="btn" style="display: block; text-align: center; background: #6c757d; color: white; text-decoration: none; font-size: 1rem; padding: 0.75rem; border-radius: 6px; font-weight: 600;">Cancel - Keep This Order</a>
  </div>
</div>

<style>
  .form-card {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    padding: 2rem;
  }

  .btn {
    transition: all 0.2s ease;
  }

  .btn:hover {
    opacity: 0.9;
    transform: translateY(-1px);
  }
</style>
{% endblock %}
